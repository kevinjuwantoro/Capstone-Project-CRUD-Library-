# 1C CARA 1: Fungsi untuk melakukan update buku sesuai kolomnya

def Update_Barang(Data, Kolom, Data_baru):
    Input_Update_Buku = (input("\t Apakah data yang diupdate sudah sesuai? (Ya/Tidak): "))
    if Input_Update_Buku == "ya":
        Data[0][Kolom] = Data_baru
        print("\tData yang Anda upload sudah diupdate!")
    elif Input_Update_Buku == "tidak":
        print("\t Data yang Anda upload tidak diupdate!")
    else:
        print("\tInput tidak valid. Harap masukkan 'Ya' atau 'Tidak'.")


# 3C Fungsi Update atau Mengubah
def update():
    input_update = (int(input('''Menu Mengubah Daftar Buku:
1. Mengubah daftar buku
2. Kembali ke menu utama
Masukkan angka menu yang ingin Anda jalankan:''')))
    
    if input_update == 1:
        Update_Buku = str(input("\tMasukkan ID Buku yang ingin Anda ubah:"))
        list_value  = [str(value) for data_buku in List_Daftar_Buku for value in data_buku.values()]
        if Update_Buku not in list_value:
            print("\n\tData yang Anda input tidak terdapat di sistem silahkan masukkan kembali ID Buku yang benar\n")
        
        else:
            CariDaftar(Update_Buku)
            Tabel_Daftar_Buku(CariDaftar(Update_Buku))
            input_update = (input("\tApakah Anda yakin ingin melakukan update data berikut? (Ya/Tidak): ")).lower()
            if input_update== "ya":
                input_kategori = int(input("""\tKategori Database Buku: 
    1. ID Buku 
    2. Judul Buku
    3. Penulis
    4. Penerbit
    5. Genre
    6. Stok Buku
    Masukkan kategori yang ingin diubah: """))
                
                if input_kategori == 1:
                    Masukkan_Data = str(input("\tMasukkan data baru yang ingin diinput: ")).lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),1,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "ID_Buku",Masukkan_Data)

                elif input_kategori == 2:
                    Masukkan_Data = input("\tMasukkan data baru yang ingin diinput: ").lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),2,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "Judul_Buku",Masukkan_Data)
               

                elif input_kategori == 3:
                    Masukkan_Data = input("\tMasukkan data baru yang ingin diinput: ").lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),3,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "Penulis",Masukkan_Data)


                elif input_kategori == 4:
                    Masukkan_Data = input("\tMasukkan data baru yang ingin diinput: ").lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),4,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "Penerbit",Masukkan_Data)


                elif input_kategori == 5:
                    Masukkan_Data = input("\tMasukkan data baru yang ingin diinput: ").lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),5,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "Genre",Masukkan_Data)


                elif input_kategori == 6:
                    Masukkan_Data = input("\tMasukkan data baru yang ingin diinput: ").lower()
                    Tabel_Daftar_Buku_Update(CariDaftar(Update_Buku),6,Masukkan_Data)
                    Update_Barang(CariDaftar(Update_Buku), "stok_buku",Masukkan_Data)

                else: 
                    print("\tKategori tidak ada!")

    elif input_update == 2:
        Menu()
    else:
        print("\tInput yang Anda masukkan tidak valid. Harap masukkan angka yang tersedia.")
    update()
